{"version":3,"sources":["webpack:///webpack/bootstrap 6fbdfa013ba99114a943","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/index.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/renderer.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/toolbar.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/highlight.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/package.json"],"names":["__webpack_public_path__","document","querySelector","getAttribute","MIME_TYPE","register_renderer","notebook","dojoView","get_cells","reduce","result","cell","output_area","append_mime","data","metadata","element","renderResult","register_mime_type","safe","index","render_cells","forEach","outputs","find","output","render_cell_output","register_view","dojotools","ButtonIcon","prototype","initialize","name","icon","help","onclick","action","Jupyter","actions","register","help_index","handler","build","selector","button","dojoClock","DojoClock","DojoView","buttons","group","map","toolbar","add_buttons_group","code","mode","insert_cell_below","set_text","number","select","get_selected_index","interfaces","push","register_highlight","events","utils","codecell","activateMonitor","CodeCell","changecode","split","code_mirror","getValue","length","requireCodeMirrorMode","console","log","options_default","highlight_modes","regex","RegExp","reg","indexOf","auto_highlight","pending","on","clearTimeout","setTimeout","initExistingCells","cells","ncells","i","event","nbcell","_fully_loaded","one"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6fbdfa013ba99114a943","/**\n * Entry point for the notebook bundle containing custom model definitions.\n * Setup notebook base URL\n * Some static assets may be required by the custom widget javascript. The base\n * url for the notebook is not known at build time and is therefore computed\n * dynamically.\n */\n\n__webpack_public_path__ = document\n  .querySelector('body')\n  .getAttribute('data-base-url') +\n  'nbextensions/jupyter_dojo/';\n\n/**\n * Export widget models and views, and the npm package version number.\n */\nexport { register_renderer, render_cells } from './renderer.js';\nexport { register_view } from './toolbar.js';\nexport { register_highlight } from './highlight.js';\nexport { version } from '../package.json';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const MIME_TYPE = 'application/unittest.status+json';\n\n/**\n * Register the mime type and append_mime function with the notebook's\n * output area\n */\nexport function register_renderer(notebook, dojoView) {\n  /* Get an instance of output_area from a CodeCell instance */\n  const { output_area } = notebook\n    .get_cells()\n    .reduce((result, cell) => cell.output_area ? cell : result, {});\n\n  /* A function to render output of 'application/unittest.status+json' mime type */\n  const append_mime = function(data, metadata, element) {\n    dojoView.renderResult(data);\n  };\n\n  /**\n   * Register the mime type and append_mime function with output_area\n   */\n  output_area.register_mime_type(MIME_TYPE, append_mime, {\n    safe: true,\n    index: 0\n  });\n}\n\n/**\n * Re-render cells with output data of 'application/unittest.status+json' mime type\n */\nexport function render_cells(notebook) {\n  /* Get all cells in notebook */\n  notebook.get_cells().forEach(cell => {\n    /* If a cell has output data of 'application/unittest.status+json' mime type */\n    if (\n      cell.output_area &&\n      cell.output_area.outputs.find(\n        output => output.data && output.data[MIME_TYPE]\n      )\n    ) {\n      /* Re-render the cell */\n      notebook.render_cell_output(cell);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer.js","/**\n * Create test toolbar\n */\nexport function register_view(notebook, dojotools) {\n  /* Override initialize function to use Notebook register */\n  dojotools.ButtonIcon.prototype.initialize = function(name, icon, help, onclick) {\n    this.name = name;\n    this.action = Jupyter.actions.register({\n      name: name,\n      icon: icon,\n      help    : help,\n      help_index : 'zz',\n      handler : onclick\n\n    }, name, 'jupyter-dojo')\n    return this;\n  };\n\n  /* Override build function to get HTML element */\n  dojotools.ButtonIcon.prototype.build = function() {\n    var selector =  \"#jupyter-dojo button[data-jupyter-action='jupyter-dojo:\"+this.name+\"']\";\n    this.button = document.querySelector(selector);\n    this.icon = document.querySelector(selector + \" i\");\n  }\n\n  /* Create dojo clock and dojo view */\n  var dojoClock = new dojotools.DojoClock();\n  var dojoView = new dojotools.DojoView(dojoClock, function(buttons) {\n    var group = buttons.map(function(button) { return button.action; });\n    Jupyter.toolbar.add_buttons_group(group, 'jupyter-dojo');\n  }, function(code, mode) {\n    notebook.insert_cell_below(mode).set_text(code);\n  }, function(number) {\n    notebook.select(notebook.get_selected_index() + number);\n  });\n  dojoClock.interfaces.push(dojoView);\n  return dojoView;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/toolbar.js","/**\n* Register the on demand syntax highlight\n*/\nexport function register_highlight(Jupyter, events, utils, codecell) {\n  function activateMonitor(cell) {\n    if ((cell instanceof codecell.CodeCell)) {\n      /* Define event for checking the highlight */\n      function changecode() {\n        let split = cell.code_mirror.getValue().split(\" \");\n        if (split && split[0] == \"%%write\" && split.length > 2) {\n          utils.requireCodeMirrorMode(split[1], (mode) => {\n            console.log('Found:', mode, split[1]);\n            var mode = 'magic_' + split[1];\n            if (!Jupyter.CodeCell.options_default.highlight_modes[mode]) {\n                Jupyter.CodeCell.options_default.highlight_modes[mode] = {\n                    'reg':[]\n                };\n            }\n            var regex = new RegExp('^%%write ' + split[1]);\n            if (Jupyter.CodeCell.options_default.highlight_modes[mode].reg.indexOf(regex) == -1) {\n              Jupyter.CodeCell.options_default.highlight_modes[mode].reg.push(\n                  regex\n              );\n            }\n            cell.auto_highlight();\n          }, () => console.log('Not found:', split[1]));\n        }\n      }\n      /* Set event on code change */\n      var pending;\n      cell.code_mirror.on('change', function() {\n        clearTimeout(pending);\n        pending = setTimeout(changecode, 400);\n      });\n      changecode();\n    }\n  }\n\n\n  function initExistingCells() {\n    var cells = Jupyter.notebook.get_cells();\n    var ncells = Jupyter.notebook.ncells();\n    for (var i = 0; i < ncells; i++) {\n      var cell = cells[i];\n      activateMonitor(cells[i]);\n    }\n    events.on('create.Cell', (event, nbcell) => activateMonitor(nbcell.cell));\n  }\n\n\n  if (Jupyter.notebook._fully_loaded) {\n    setTimeout(function () {\n      console.log('Dojotools: Wait for', 1000, 'ms');\n      initExistingCells();\n    }, 1000);\n  } else {\n    events.one('notebook_loaded.Notebook', initExistingCells);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/highlight.js","module.exports = {\"name\":\"@jupyter_dojo/nbextension\",\"version\":\"0.1.1\",\"description\":\"A Jupyter Notebook extension for rendering unittest\",\"author\":\"Joao Felipe Pimentel <joaofelipenp@gmail.com>\",\"main\":\"dist/index.js\",\"keywords\":[\"jupyter\",\"jupyterlab\",\"jupyterlab extension\"],\"scripts\":{\"build\":\"webpack\",\"watch\":\"watch \\\"npm run build\\\" src --wait 10 --ignoreDotFiles\",\"prepublish\":\"npm run build\",\"extension:install\":\"jupyter nbextension install --symlink --py --sys-prefix notebook_json\",\"extension:uninstall\":\"jupyter nbextension uninstall --py --sys-prefix notebook_json\",\"extension:enable\":\"jupyter nbextension enable --py --sys-prefix notebook_json\",\"extension:disable\":\"jupyter nbextension disable --py --sys-prefix notebook_json\"},\"dependencies\":{\"@jupyter_dojo/base\":\"^0.1.2\"},\"devDependencies\":{\"@babel/core\":\"^7.0.0-beta.34\",\"@babel/preset-env\":\"^7.0.0-beta.34\",\"babel-loader\":\"^8.0.0-beta.0\",\"css-loader\":\"^0.28.7\",\"file-loader\":\"^1.1.5\",\"fs-extra\":\"^4.0.3\",\"json-loader\":\"^0.5.7\",\"style-loader\":\"^0.19.0\",\"url-loader\":\"^0.6.2\",\"watch\":\"^1.0.2\",\"webpack\":\"^3.10.0\"},\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/JoaoFelipe/jupyter-dojo.git\"},\"bugs\":{\"url\":\"https://github.com/JoaoFelipe/jupyter-dojo/issues\"},\"license\":\"MIT\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}