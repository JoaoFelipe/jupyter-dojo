{"version":3,"sources":["webpack:///webpack/bootstrap ec49f1068d7d4fcf81d5","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/highlight.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/renderer.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/toolbar.js","webpack:////home/joao/projects/jupyter_dojo/nbextension/package.json","webpack:////home/joao/projects/jupyter_dojo/nbextension/src/index.js"],"names":["register_highlight","Jupyter","events","utils","codecell","activateMonitor","cell","CodeCell","changecode","split","code_mirror","getValue","length","requireCodeMirrorMode","mode","console","log","options_default","highlight_modes","regex","RegExp","reg","indexOf","push","auto_highlight","pending","on","clearTimeout","setTimeout","initExistingCells","cells","notebook","get_cells","ncells","i","event","nbcell","_fully_loaded","one","register_renderer","render_cells","MIME_TYPE","dojoView","reduce","result","output_area","append_mime","data","metadata","element","renderResult","register_mime_type","safe","index","forEach","outputs","find","output","render_cell_output","register_view","dojotools","ButtonIcon","prototype","initialize","name","icon","help","onclick","action","actions","register","help_index","handler","build","selector","button","document","querySelector","dojoClock","DojoClock","DojoView","buttons","group","map","toolbar","add_buttons_group","code","insert_cell_below","set_text","number","select","get_selected_index","interfaces","version","__webpack_public_path__","getAttribute"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ec49f1068d7d4fcf81d5","/**\n* Register the on demand syntax highlight\n*/\nexport function register_highlight(Jupyter, events, utils, codecell) {\n  function activateMonitor(cell) {\n    if ((cell instanceof codecell.CodeCell)) {\n      /* Define event for checking the highlight */\n      function changecode() {\n        let split = cell.code_mirror.getValue().split(\" \");\n        if (split && split[0] == \"%%write\" && split.length > 2) {\n          utils.requireCodeMirrorMode(split[1], (mode) => {\n            console.log('Found:', mode, split[1]);\n            var mode = 'magic_' + split[1];\n            if (!Jupyter.CodeCell.options_default.highlight_modes[mode]) {\n                Jupyter.CodeCell.options_default.highlight_modes[mode] = {\n                    'reg':[]\n                };\n            }\n            var regex = new RegExp('^%%write ' + split[1]);\n            if (Jupyter.CodeCell.options_default.highlight_modes[mode].reg.indexOf(regex) == -1) {\n              Jupyter.CodeCell.options_default.highlight_modes[mode].reg.push(\n                  regex\n              );\n            }\n            cell.auto_highlight();\n          }, () => console.log('Not found:', split[1]));\n        }\n      }\n      /* Set event on code change */\n      var pending;\n      cell.code_mirror.on('change', function() {\n        clearTimeout(pending);\n        pending = setTimeout(changecode, 400);\n      });\n      changecode();\n    }\n  }\n\n\n  function initExistingCells() {\n    var cells = Jupyter.notebook.get_cells();\n    var ncells = Jupyter.notebook.ncells();\n    for (var i = 0; i < ncells; i++) {\n      var cell = cells[i];\n      activateMonitor(cells[i]);\n    }\n    events.on('create.Cell', (event, nbcell) => activateMonitor(nbcell.cell));\n  }\n\n\n  if (Jupyter.notebook._fully_loaded) {\n    setTimeout(function () {\n      console.log('Dojotools: Wait for', 1000, 'ms');\n      initExistingCells();\n    }, 1000);\n  } else {\n    events.one('notebook_loaded.Notebook', initExistingCells);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/highlight.js","const MIME_TYPE = 'application/unittest.status+json';\n\n/**\n * Register the mime type and append_mime function with the notebook's\n * output area\n */\nexport function register_renderer(notebook, dojoView) {\n  /* Get an instance of output_area from a CodeCell instance */\n  const { output_area } = notebook\n    .get_cells()\n    .reduce((result, cell) => cell.output_area ? cell : result, {});\n\n  /* A function to render output of 'application/unittest.status+json' mime type */\n  const append_mime = function(data, metadata, element) {\n    dojoView.renderResult(data);\n  };\n\n  /**\n   * Register the mime type and append_mime function with output_area\n   */\n  output_area.register_mime_type(MIME_TYPE, append_mime, {\n    safe: true,\n    index: 0\n  });\n}\n\n/**\n * Re-render cells with output data of 'application/unittest.status+json' mime type\n */\nexport function render_cells(notebook) {\n  /* Get all cells in notebook */\n  notebook.get_cells().forEach(cell => {\n    /* If a cell has output data of 'application/unittest.status+json' mime type */\n    if (\n      cell.output_area &&\n      cell.output_area.outputs.find(\n        output => output.data && output.data[MIME_TYPE]\n      )\n    ) {\n      /* Re-render the cell */\n      notebook.render_cell_output(cell);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer.js","/**\n * Create test toolbar\n */\nexport function register_view(notebook, dojotools) {\n  /* Override initialize function to use Notebook register */\n  dojotools.ButtonIcon.prototype.initialize = function(name, icon, help, onclick) {\n    this.name = name;\n    this.action = Jupyter.actions.register({\n      name: name,\n      icon: icon,\n      help    : help,\n      help_index : 'zz',\n      handler : onclick\n\n    }, name, 'jupyter-dojo')\n    return this;\n  };\n\n  /* Override build function to get HTML element */\n  dojotools.ButtonIcon.prototype.build = function() {\n    var selector =  \"#jupyter-dojo button[data-jupyter-action='jupyter-dojo:\"+this.name+\"']\";\n    this.button = document.querySelector(selector);\n    this.icon = document.querySelector(selector + \" i\");\n  }\n\n  /* Create dojo clock and dojo view */\n  var dojoClock = new dojotools.DojoClock();\n  var dojoView = new dojotools.DojoView(dojoClock, function(buttons) {\n    var group = buttons.map(function(button) { return button.action; });\n    Jupyter.toolbar.add_buttons_group(group, 'jupyter-dojo');\n  }, function(code, mode) {\n    notebook.insert_cell_below(mode).set_text(code);\n  }, function(number) {\n    notebook.select(notebook.get_selected_index() + number);\n  });\n  dojoClock.interfaces.push(dojoView);\n  return dojoView;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/toolbar.js","module.exports = {\"private\":true,\"name\":\"@jupyter_dojo/nbextension\",\"version\":\"0.18.0\",\"description\":\"A Jupyter Notebook extension for rendering unittest\",\"author\":\"Joao Felipe Pimentel <joaofelipenp@gmail.com>\",\"main\":\"lib/index.js\",\"keywords\":[\"jupyter\",\"jupyterlab\",\"jupyterlab extension\"],\"scripts\":{\"build\":\"webpack\",\"watch\":\"watch \\\"npm run build\\\" src --wait 10 --ignoreDotFiles\",\"prepublish\":\"npm run build\",\"extension:install\":\"jupyter nbextension install --symlink --py --sys-prefix notebook_json\",\"extension:uninstall\":\"jupyter nbextension uninstall --py --sys-prefix notebook_json\",\"extension:enable\":\"jupyter nbextension enable --py --sys-prefix notebook_json\",\"extension:disable\":\"jupyter nbextension disable --py --sys-prefix notebook_json\"},\"dependencies\":{\"@jupyter_dojo/base\":\"^0.1.0\"},\"devDependencies\":{\"babel-core\":\"^6.18.2\",\"babel-loader\":\"^6.4.0\",\"babel-preset-latest\":\"^6.16.0\",\"css-loader\":\"^0.25.0\",\"file-loader\":\"^0.9.0\",\"json-loader\":\"^0.5.4\",\"style-loader\":\"^0.13.1\",\"url-loader\":\"^0.5.7\",\"watch\":\"^1.0.1\",\"webpack\":\"^2.2.0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 3\n// module chunks = 0","/**\n * Entry point for the notebook bundle containing custom model definitions.\n * Setup notebook base URL\n * Some static assets may be required by the custom widget javascript. The base\n * url for the notebook is not known at build time and is therefore computed\n * dynamically.\n */\n\n__webpack_public_path__ = document\n  .querySelector('body')\n  .getAttribute('data-base-url') +\n  'nbextensions/jupyterlab_dojotools/';\n\n/**\n * Export widget models and views, and the npm package version number.\n */\nexport { register_renderer, render_cells } from './renderer.js';\nexport { register_view } from './toolbar.js';\nexport { register_highlight } from './highlight.js';\nexport { version } from '../package.json';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}